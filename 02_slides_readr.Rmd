---
title: "Readr"
subtitle: "Lendo os Dados"  
author: "Ícaro Vidal Freire"
institute: "Estat 2020.1"  
date: '`r Sys.Date()`'
output:
  xaringan::moon_reader:
    encoding: "UTF-8"
    css: xaringan-themer.css
    lib_dir: libs
    chakra: libs/remark-latest.min.js
    nature:
      slideNumberFormat: "%current%"
      highlightStyle: github
      highlightLines: true
      ratio: 16:9
      countIncrementalSlides: true
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(
  fig.width=9, fig.height=3.5, fig.retina=3,
  out.width = "100%",
  cache = FALSE,
  echo = TRUE,
  message = FALSE, 
  warning = FALSE,
  fig.show = TRUE,
  hiline = TRUE
)
library(tidyverse)
```

```{r xaringan-themer, include=FALSE, warning=FALSE}
library(xaringanthemer)
style_duo_accent(
  primary_color = "#5E81AC",
  secondary_color = "#2E3440",
  inverse_header_color = "#A3BE8C"
)
xaringanExtra::use_tile_view() # para overwiew
xaringanExtra::use_scribble()  # para escrever na apresentação
xaringanExtra::use_clipboard() # para copiar códigos
xaringanExtra::use_panelset()  # para abas nos slides
xaringanExtra::use_extra_styles(
  hover_code_line = TRUE,         #<<
  mute_unhighlighted_code = TRUE  #<<
)
```

class: about-me, middle, center

[![](img/github_huge.png)](https://github.com/icaro-freire/estat_2020.1) </br>
[**Estat_2020.1**](https://github.com/icaro-freire/estat_2020.1)

---
# Antes de começarmos

.panelset[
.panel[.panel-name[Organizando Dados]
- Organize seus dados antes de começar as análises
- Um exemplo:
```{r, eval=FALSE}
.
└── tidyverse_readr/     # diretório do projeto atual
    ├── .gitignore       # arquivo para ignorar versionamentos em alguns casos
    ├── dados/           # diretório dos datasets
    │   ├── brutos/      # dataset "bruto"
    │   └── tidy/        # dataset "arrumado"
    ├── R/               # diretório para salvar os `scripts` em R
    └── tidyverse.Rproj  # arquivo que abre o seu projeto no R Studio
```
- O pacote `usethis` facilita muito a organização!
]
.panel[.panel-name[usethis]
.pull-left[
- Principais comandos:

```{r, eval=FALSE}
usethis::create_projetc("caminho/nome-do-projeto")
usethis::use_readme_md()
usethis::use_directory("caminho/nome-da-pasta")
usethis::use_git()
usethis::use_github()
```
]
.pull-right[
```{r, echo=FALSE, fig.align='center', out.width='50%'}
knitr::include_graphics("img/logo.png")
```
]
]
.panel[.panel-name[Prática]
```{r, echo=FALSE, out.width='50%', fig.align='center'}
knitr::include_graphics("img/fall.gif")
```
]
<!-- x -->
]

---
## Tipos de Dados

.panelset[
.panel[.panel-name[O que usaremos?]
.pull-left[
- `.csv`: _comma separated values_ (valores separados por **vírgula**)
  + pode ser separado por **ponto e vírgula**;
  + pode ser separado por **barra vertical** ("|");
  + pode ser separado por **tabulação** ("Tab");
  + etc.
- `.xlsx`: arquivos advindos do execel
  + É necessário um pacote específico: `readxl`
- Mas, existem muitos outros: SSP, Stata, SAS, XML, HTML, etc. 
]
.pull-right[
- Um típico arquivo `.csv`
```{r, eval=FALSE}
nome, matricula, nota
Astrobaldo, 2020001, 9.7
Bulhoto, 2020002, 8.9
Cacati, 2020003, 7.5
Diarreja, 2020004, 9.8
Juremax, 2020005, 9.9
Teteia, 2020006, 4.0
Zuman, 2020007, 3.0

```
]
]
.panel[.panel-name[Funções]

.pull-left[
```{r, echo=FALSE, fig.align='center', out.width='20%'}
knitr::include_graphics("img/readr.png")
```

- Usando o pacote `readr` (já carregado pelo `tidyverse`)
  + `read_csv("caminho/arquivo.csv")`
  + Note o caminho entre vírgulas!
  + use `glimpse()` para analise inicial.
]

.pull-right[
```{r, echo=FALSE, fig.align='center', out.width='20%'}
knitr::include_graphics("img/logo_excel.png")
```

- Usando o pacote `readxl` (precisa carregar)
  + `library(readxl)`: sem aspas!
  + `read_excel("caminho/arquivo.xlsx")`
    * Note que as aspas
]

- Do próprio RStudio
```{r, echo=FALSE, fig.align='center', out.width='20%'}
knitr::include_graphics("img/logo_rstudio.png")
```
]
.panel[.panel-name[Prática]
```{r, echo=FALSE, out.width='50%', fig.align='center'}
knitr::include_graphics("img/fall.gif")
```

]
<!--x -->
]

---
## Escrevendo seu _dataset_

.panelset[
.panel[.panel-name[Função]
```{r, eval=FALSE}
write_csv(dados_tibble, "caminho/nome-do-arquivo.csv")
```
  + Essa é uma estrutura _básica_ da função;
  + `dados_tibble` é seu conjunto de dados que foi salvo no formato `tibble`;
  + Note que devemos colocar a extensão do arquivo explicitamente;
  + Você pode escolher o caminho relativo para salvar seu novo arquivo.
]
.panel[.panel-name[Prática]
```{r, echo=FALSE, out.width='50%', fig.align='center'}
knitr::include_graphics("img/fall.gif")
```
]
<!-- x -->
]

---
class: center, middle

# Fim!

##### Veja atualizações na página de nossa disciplina no GitHub:

[![](img/github_small.png)](https://github.com/icaro-freire/estat_2020.1) </br>
[**Estat_2020.1**](https://github.com/icaro-freire/estat_2020.1)


